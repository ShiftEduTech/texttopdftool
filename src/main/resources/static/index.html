<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ShiftEduTech - Text To PDF Converter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

	
<meta name="theme-color" content="#0072ff">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#0072ff">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>

<style>
:root{
    --card-bg: rgba(255,255,255,0.12);
    --text-color:#fff;
    --input-bg:#fff;
    --input-text:#000;
    --nav-bg: rgba(255,255,255,0.08);
}

body.dark{
    --card-bg: rgba(0,0,0,0.6);
    --input-bg:#1f1f1f;
    --input-text:#fff;
    --nav-bg: rgba(0,0,0,0.7);
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
    font-family:'Inter',sans-serif;
    min-height:100vh;
    display:flex;
    flex-direction:column;
    color:var(--text-color);
}

#tsparticles{
    position:fixed;
    inset:0;
    z-index:-1;
}

.hero-header {
    width:100%;
    padding:20px 30px;
    background:var(--nav-bg);
    backdrop-filter:blur(12px);
}

.hero-container{
    display:flex;
    justify-content:space-between;
    align-items:center;
    max-width:1100px;
    margin:auto;
}

.brand-section{
    display:flex;
    align-items:center;
    gap:18px;
}

.logo{
    width:65px;
    filter:drop-shadow(0 0 8px #00c6ff);
}

.brand-text h1{
    font-size:20px;
    font-weight:600;
}

.brand-text p{
    font-size:13px;
    opacity:0.7;
}

.toggle-btn{
    padding:6px 14px;
    border-radius:20px;
    border:none;
    background:rgba(255,255,255,0.2);
    cursor:pointer;
}

.main{
    flex:1;
    display:flex;
    justify-content:center;
    padding:40px 20px;
}

.container{
    width:100%;
    max-width:700px;
    background:var(--card-bg);
    backdrop-filter:blur(20px);
    padding:25px;
    border-radius:15px;
}

input,select,textarea{
    width:100%;
    padding:12px;
    margin:10px 0;
    border-radius:8px;
    border:none;
    outline:none;
    background:var(--input-bg);
    color:var(--input-text);
}

textarea{height:180px;resize:none;}

.generate-btn{
    width:100%;
    padding:12px;
    margin-top:10px;
    border:none;
    border-radius:8px;
    background:linear-gradient(to right,#00c6ff,#0072ff);
    color:#fff;
    cursor:pointer;
    transition:0.3s;
}

.generate-btn:hover{
    transform:scale(1.02);
}

.generate-btn:disabled{
    opacity:0.6;
    cursor:not-allowed;
}

.footer{
    text-align:center;
    padding:15px;
    background:var(--nav-bg);
    font-size:13px;
}

#wordCount{
    text-align:right;
    font-size:12px;
    opacity:0.7;
}

/* Progress */
#progressOverlay{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.85);
    justify-content:center;
    align-items:center;
    flex-direction:column;
    z-index:999;
}

.progress-container{
    width:80%;
    max-width:300px;
    background:rgba(255,255,255,0.1);
    padding:5px;
    border-radius:50px;
}

.progress-bar{
    height:15px;
    width:0%;
    border-radius:50px;
    background:linear-gradient(90deg,#00f5ff,#0072ff);
    transition:width 0.2s ease;
}

.progress-text{
    margin-top:10px;
    color:#00f5ff;
}

/* Preview */
#previewModal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.95);
    flex-direction:column;
    z-index:1000;
}

#previewModal iframe{
    flex:1;
    width:100%;
    border:none;
}

.modal-actions{
    display:flex;
    gap:10px;
    padding:12px;
    background:#111;
}

.modal-actions button{
    flex:1;
    padding:10px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}

.download-btn{background:#00c6ff;color:#fff;}
.edit-btn{background:#ffaa00;color:#000;}
.close-btn{background:#ff4d4d;color:#fff;}

/* Toast */
#toast{
    position:fixed;
    bottom:20px;
    right:20px;
    background:#00c6ff;
    color:#fff;
    padding:10px 18px;
    border-radius:6px;
    display:none;
    z-index:2000;
}

</style>
</head>

<body>

<div id="tsparticles"></div>

<header class="hero-header">
<div class="hero-container">
<div class="brand-section">
<img src="/images/shiftedutech-logo.png" class="logo">
<div class="brand-text">
<h1>ShiftEduTech - Text To PDF Converter</h1>
<p>Build Documents. The Smarter Way.</p>
</div>
</div>
<button class="toggle-btn" onclick="toggleMode()">üåô</button>
</div>
</header>

<div class="main">
<div class="container">
<form id="pdfForm">
<input type="text" name="title" placeholder="Document Title" required>

<select name="fontSize">
<option value="12">Font Size 12</option>
<option value="14">Font Size 14</option>
<option value="16">Font Size 16</option>
<option value="18">Font Size 18</option>
<option value="20">Font Size 20</option>
</select>

<select name="pageSize">
<option value="A4">A4</option>
<option value="Letter">Letter</option>
</select>

<textarea name="content" placeholder="Type or paste your text..." required></textarea>
<div id="wordCount">0 words</div>

<button type="button" class="generate-btn" onclick="generatePDF()">‚ö° Build & Preview ‚ö°</button>
</form>
</div>
</div>

<div class="footer">
¬© 2026 ShiftEduTech | Version 2.3 Pro
</div>

<div id="progressOverlay">
<div class="progress-container">
<div class="progress-bar" id="progressBar"></div>
</div>
<div class="progress-text" id="progressText">0%</div>
</div>

<div id="previewModal">
<iframe id="pdfPreview"></iframe>
<div class="modal-actions">
<button class="download-btn" onclick="downloadPDF()">Download</button>
<button class="edit-btn" onclick="editDocument()">Edit</button>
<button class="close-btn" onclick="closePreview()">Close</button>
</div>
</div>

<div id="toast">PDF Ready!</div>

<script>

let generatedBlob=null;
const textarea=document.querySelector("textarea[name='content']");
textarea.value=localStorage.getItem("draft")||"";

textarea.addEventListener("input",()=>{
localStorage.setItem("draft",textarea.value);
const words=textarea.value.trim().split(/\s+/).filter(Boolean);
document.getElementById("wordCount").innerText=words.length+" words";
});

function toggleMode(){document.body.classList.toggle("dark");}

tsParticles.load("tsparticles",{background:{color:{value:"#141e30"}},particles:{number:{value:40},size:{value:3},move:{speed:1}}});

async function generatePDF(){

const btn=document.querySelector(".generate-btn");
btn.disabled=true;
btn.innerText="Generating...";

const formData=new FormData(document.getElementById("pdfForm"));
const overlay=document.getElementById("progressOverlay");
const bar=document.getElementById("progressBar");
const text=document.getElementById("progressText");

overlay.style.display="flex";
bar.style.width="0%";
text.innerText="0%";

let progress=0;
const interval=setInterval(()=>{
progress+=5;
if(progress<=90){
bar.style.width=progress+"%";
text.innerText=progress+"%";
}
},100);

try{
const response=await fetch("/generate",{method:"POST",body:formData});
if(!response.ok) throw new Error();

generatedBlob=await response.blob();

clearInterval(interval);
bar.style.width="100%";
text.innerText="100%";

setTimeout(()=>{
overlay.style.display="none";
openPreview();
showToast("PDF Ready!");
},500);

}catch{
overlay.style.display="none";
showToast("‚ö†Ô∏è Unable to generate PDF");
}

btn.disabled=false;
btn.innerText="‚ö° Build & Preview ‚ö°";
}

function openPreview(){
const url=URL.createObjectURL(generatedBlob);
document.getElementById("pdfPreview").src=url;
document.getElementById("previewModal").style.display="flex";
}

function closePreview(){document.getElementById("previewModal").style.display="none";}
function editDocument(){closePreview();textarea.focus();}

function downloadPDF(){
let title=document.querySelector("input[name='title']").value.trim()||"document";
title=title.replace(/[\\\/:*?"<>|]/g,"").replace(/\s+/g,"_").toLowerCase();

const now=new Date();
const timestamp=now.getFullYear()+
String(now.getMonth()+1).padStart(2,'0')+
String(now.getDate()).padStart(2,'0')+"_"+
String(now.getHours()).padStart(2,'0')+
String(now.getMinutes()).padStart(2,'0');

const a=document.createElement("a");
a.href=URL.createObjectURL(generatedBlob);
a.download=`${title}_set_${timestamp}.pdf`;
a.click();
}

function showToast(message){
const toast=document.getElementById("toast");
toast.innerText=message;
toast.style.display="block";
setTimeout(()=>toast.style.display="none",3000);
}

if('serviceWorker' in navigator){
navigator.serviceWorker.register('/sw.js');
}

</script>

</body>
</html>
